
# 云计算器后端架构文档(v0.2)

## 项目概述

该项目旨在提供一个在线计算器，支持基础的数学运算，包括加法、减法、乘法和除法。项目使用纯分数计算，因此不会产生精度丢失的问题。

## 技术架构

-   **语言**：Python
-   **架构**：MVC（模型-视图-控制器）
-   **CLI**：用于调试的简易命令行界面

## 类和方法

### RationalNumber 类

#### 属性

-   `numerator: int` - 分子
-   `denominator: int` - 分母

#### 方法

-   `__add__(self, other: 'RationalNumber') -> 'RationalNumber'`: 加法运算
-   `__sub__(self, other: 'RationalNumber') -> 'RationalNumber'`: 减法运算
-   `__mul__(self, other: 'RationalNumber') -> 'RationalNumber'`: 乘法运算
-   `__truediv__(self, other: 'RationalNumber') -> 'RationalNumber'`: 除法运算
-   `__eq__(self, other: 'RationalNumber') -> bool`: 判断两个 RationalNumber 对象是否相等
-   `__str__(self) -> str`: 返回有理数的字符串表示形式

### Expression 类

#### 方法

- `calculate() -> RationalNumber`:计算API
-   `lexical_analysis() -> List[str]`: 词法分析，用于处理负数和非法字符
-   `generate_rpn() -> List[str]`: 生成逆波兰式
-   `evaluate() -> RationalNumber`: 计算逆波兰式的值

## 异常处理

-   分母为零：触发 `ZeroDivisionError`
-   非法字符：触发 `ValueError`

## 测试

-   使用单元测试进行功能测试，包括基础运算测试、异常处理和压力测试。
